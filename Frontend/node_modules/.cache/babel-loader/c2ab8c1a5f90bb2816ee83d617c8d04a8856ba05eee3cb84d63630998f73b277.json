{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prath\\\\OneDrive\\\\Documents\\\\Web_projects\\\\Talkify\\\\Frontend\\\\src\\\\Component\\\\Sidebar\\\\Sidebar.js\",\n  _s = $RefreshSig$();\nimport { useSelector } from \"react-redux\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { fetchUsers, getConversation, fetchGroups, fetchBroadcast, getGroup } from \"../Tanstack/Chatlist\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { useSocket } from \"../../socket/socketContext\";\nimport CreateGroupModal from \"./groupModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SideBar = () => {\n  _s();\n  const currentUser = useSelector(state => state.auth.user);\n  const navigate = useNavigate();\n  const socket = useSocket();\n  const queryClient = useQueryClient();\n  const [openingUserId, setOpeningUserId] = useState(null);\n  const [open, setOpen] = useState(false);\n\n  /* ---------------- FETCH USERS ---------------- */\n  const {\n    data: users = [],\n    isLoading\n  } = useQuery({\n    queryKey: [\"users\"],\n    queryFn: fetchUsers\n  });\n\n  /* ---------------- FETCH GROUPS ---------------- */\n  const {\n    data: groups = []\n  } = useQuery({\n    queryKey: [\"groups\"],\n    queryFn: fetchGroups\n  });\n  const {\n    data: broadcast\n  } = useQuery({\n    queryKey: [\"broadcast\"],\n    queryFn: fetchBroadcast\n  });\n\n  /* ---------------- OPEN PRIVATE CHAT ---------------- */\n  const openChatMutation = useMutation({\n    mutationFn: getConversation,\n    onSuccess: conver => {\n      navigate(`/chat/${conver.conversation_id}`);\n      setOpeningUserId(null);\n    },\n    onError: () => {\n      setOpeningUserId(null);\n      alert(\"Failed to open chat\");\n    }\n  });\n  const openChat = userId => {\n    if (openingUserId) return;\n    setOpeningUserId(userId);\n    openChatMutation.mutate(userId);\n  };\n\n  /* ---------------- CREATE GROUP ---------------- */\n  const createGroupMutation = useMutation({\n    mutationFn: getGroup,\n    onSuccess: data => {\n      queryClient.invalidateQueries({\n        queryKey: [\"groups\"]\n      });\n      setOpen(false);\n      navigate(`/chat/${data.conversation_id}`);\n    },\n    onError: () => {\n      alert(\"Failed to create group\");\n    }\n  });\n\n  /* ---------------- SOCKET: USER CREATED ---------------- */\n  useEffect(() => {\n    if (!socket) return;\n    const handleUserCreated = user => {\n      queryClient.setQueryData([\"users\"], (old = []) => {\n        if (old.some(u => u.auth_id === user.auth_id)) return old;\n        return [...old, user];\n      });\n    };\n    socket.on(\"user_created\", handleUserCreated);\n    return () => {\n      socket.off(\"user_created\", handleUserCreated);\n    };\n  }, [socket, queryClient]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 h-full flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-8 h-8 border-3 border-teal-500 border-t-transparent rounded-full animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-400\",\n          children: \"Loading conversations...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n  const filteredUsers = users.filter(u => u.auth_id !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.auth_id));\n  return /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: \"w-72 h-full flex flex-col shadow-lg\",\n    style: {\n      backgroundColor: \"var(--bg-card)\",\n      borderRight: \"1px solid var(--border-main)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-5 py-[10px] border-b\",\n      style: {\n        borderColor: \"var(--border-main)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold tracking-tight\",\n        style: {\n          color: \"var(--text-label)\"\n        },\n        children: \"Conversations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs opacity-60 mt-1\",\n        style: {\n          color: \"var(--text-main)\"\n        },\n        children: [filteredUsers.length + groups.length + (broadcast ? 1 : 0), \" total\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 pt-4 pb-2\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setOpen(true),\n        className: \"w-full px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98] flex items-center justify-center gap-2\",\n        style: {\n          backgroundColor: \"var(--accent-primary)\",\n          color: \"#020617\"\n        },\n        onMouseEnter: e => {\n          e.currentTarget.style.opacity = \"0.9\";\n        },\n        onMouseLeave: e => {\n          e.currentTarget.style.opacity = \"1\";\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 4v16m8-8H4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), \"Create New Group\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CreateGroupModal, {\n      open: open,\n      onClose: () => setOpen(false),\n      users: filteredUsers,\n      onCreate: data => createGroupMutation.mutate(data)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-y-auto flex-1 px-2 pb-2\",\n      children: [groups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-2 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4 opacity-60\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs font-semibold uppercase tracking-wider opacity-60\",\n            style: {\n              color: \"var(--text-main)\"\n            },\n            children: \"Groups\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-auto text-xs font-medium px-2 py-0.5 rounded-full\",\n            style: {\n              backgroundColor: \"rgba(20, 184, 166, 0.2)\",\n              color: \"var(--accent-primary)\"\n            },\n            children: groups.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), groups.map(group => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-2.5 mb-1 flex items-center gap-3 cursor-pointer transition-all duration-200 rounded-lg\",\n          style: {\n            color: \"var(--text-main)\"\n          },\n          onClick: () => navigate(`/chat/${group.conversation_id}`),\n          onMouseEnter: e => {\n            e.currentTarget.style.backgroundColor = \"rgba(20, 184, 166, 0.12)\";\n            e.currentTarget.style.transform = \"translateX(4px)\";\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.backgroundColor = \"transparent\";\n            e.currentTarget.style.transform = \"translateX(0)\";\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 rounded-full flex items-center justify-center font-bold text-base shadow-sm\",\n            style: {\n              backgroundColor: \"var(--accent-primary)\",\n              color: \"#020617\"\n            },\n            children: group.group_name.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium block truncate\",\n              children: group.group_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs opacity-50\",\n              children: \"Group chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this)]\n        }, `group-${group.conversation_id}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), broadcast && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-2 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4 opacity-60\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs font-semibold uppercase tracking-wider opacity-60\",\n            style: {\n              color: \"var(--text-main)\"\n            },\n            children: \"Broadcast\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-2.5 mb-1 flex items-center gap-3 cursor-pointer transition-all duration-200 rounded-lg\",\n          style: {\n            color: \"var(--text-main)\"\n          },\n          onClick: () => navigate(`/chat/${broadcast.conversation_id}`),\n          onMouseEnter: e => {\n            e.currentTarget.style.backgroundColor = \"rgba(20, 184, 166, 0.12)\";\n            e.currentTarget.style.transform = \"translateX(4px)\";\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.backgroundColor = \"transparent\";\n            e.currentTarget.style.transform = \"translateX(0)\";\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-sm\",\n            style: {\n              backgroundColor: \"var(--accent-primary)\",\n              color: \"#020617\"\n            },\n            children: \"\\uD83D\\uDCE2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium block truncate\",\n              children: broadcast.group_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs opacity-50\",\n              children: \"Public channel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, `broadcast-${broadcast.conversation_id}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-2 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4 opacity-60\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs font-semibold uppercase tracking-wider opacity-60\",\n            style: {\n              color: \"var(--text-main)\"\n            },\n            children: \"Direct Messages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-auto text-xs font-medium px-2 py-0.5 rounded-full\",\n            style: {\n              backgroundColor: \"rgba(139, 92, 246, 0.2)\",\n              color: \"var(--accent-secondary)\"\n            },\n            children: filteredUsers.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), filteredUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-3 py-2.5 mb-1 flex items-center gap-3 cursor-pointer transition-all duration-200 rounded-lg\",\n          style: {\n            color: \"var(--text-main)\",\n            opacity: openingUserId === user.auth_id ? 0.5 : 1,\n            pointerEvents: openingUserId === user.auth_id ? \"none\" : \"auto\"\n          },\n          onClick: () => openChat(user.auth_id),\n          onMouseEnter: e => {\n            if (openingUserId !== user.auth_id) {\n              e.currentTarget.style.backgroundColor = \"rgba(139, 92, 246, 0.12)\";\n              e.currentTarget.style.transform = \"translateX(4px)\";\n            }\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.backgroundColor = \"transparent\";\n            e.currentTarget.style.transform = \"translateX(0)\";\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 rounded-full flex items-center justify-center font-bold text-base shadow-sm\",\n              style: {\n                backgroundColor: \"var(--accent-secondary)\",\n                color: \"#020617\"\n              },\n              children: user.user_name.charAt(0).toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2\",\n              style: {\n                backgroundColor: \"#10b981\",\n                borderColor: \"var(--bg-card)\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium block truncate\",\n              children: user.user_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs opacity-50\",\n              children: openingUserId === user.auth_id ? \"Opening...\" : \"Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this)]\n        }, `user-${user.auth_id}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(SideBar, \"AYWgiFU7twCiaeJS48UnoQ0ZpEE=\", false, function () {\n  return [useSelector, useNavigate, useSocket, useQueryClient, useQuery, useQuery, useQuery, useMutation, useMutation];\n});\n_c = SideBar;\nexport default SideBar;\nvar _c;\n$RefreshReg$(_c, \"SideBar\");","map":{"version":3,"names":["useSelector","useQuery","useMutation","useQueryClient","fetchUsers","getConversation","fetchGroups","fetchBroadcast","getGroup","useNavigate","useEffect","useState","useSocket","CreateGroupModal","jsxDEV","_jsxDEV","SideBar","_s","currentUser","state","auth","user","navigate","socket","queryClient","openingUserId","setOpeningUserId","open","setOpen","data","users","isLoading","queryKey","queryFn","groups","broadcast","openChatMutation","mutationFn","onSuccess","conver","conversation_id","onError","alert","openChat","userId","mutate","createGroupMutation","invalidateQueries","handleUserCreated","setQueryData","old","some","u","auth_id","on","off","className","children","fileName","_jsxFileName","lineNumber","columnNumber","filteredUsers","filter","style","backgroundColor","borderRight","borderColor","color","length","onClick","onMouseEnter","e","currentTarget","opacity","onMouseLeave","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClose","onCreate","map","group","transform","group_name","charAt","toUpperCase","pointerEvents","user_name","_c","$RefreshReg$"],"sources":["C:/Users/prath/OneDrive/Documents/Web_projects/Talkify/Frontend/src/Component/Sidebar/Sidebar.js"],"sourcesContent":["import { useSelector } from \"react-redux\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport {\r\n  fetchUsers,\r\n  getConversation,\r\n  fetchGroups,\r\n  fetchBroadcast,\r\n  getGroup,\r\n} from \"../Tanstack/Chatlist\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSocket } from \"../../socket/socketContext\";\r\nimport CreateGroupModal from \"./groupModal\";\r\n\r\nconst SideBar = () => {\r\n  const currentUser = useSelector((state) => state.auth.user);\r\n  const navigate = useNavigate();\r\n  const socket = useSocket();\r\n  const queryClient = useQueryClient();\r\n\r\n  const [openingUserId, setOpeningUserId] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  /* ---------------- FETCH USERS ---------------- */\r\n  const { data: users = [], isLoading } = useQuery({\r\n    queryKey: [\"users\"],\r\n    queryFn: fetchUsers,\r\n  });\r\n\r\n  /* ---------------- FETCH GROUPS ---------------- */\r\n  const { data: groups = [] } = useQuery({\r\n    queryKey: [\"groups\"],\r\n    queryFn: fetchGroups,\r\n  });\r\n\r\n  const { data: broadcast } = useQuery({\r\n    queryKey: [\"broadcast\"],\r\n    queryFn: fetchBroadcast,\r\n  });\r\n\r\n  /* ---------------- OPEN PRIVATE CHAT ---------------- */\r\n  const openChatMutation = useMutation({\r\n    mutationFn: getConversation,\r\n    onSuccess: (conver) => {\r\n      navigate(`/chat/${conver.conversation_id}`);\r\n      setOpeningUserId(null);\r\n    },\r\n    onError: () => {\r\n      setOpeningUserId(null);\r\n      alert(\"Failed to open chat\");\r\n    },\r\n  });\r\n\r\n  const openChat = (userId) => {\r\n    if (openingUserId) return;\r\n    setOpeningUserId(userId);\r\n    openChatMutation.mutate(userId);\r\n  };\r\n\r\n  /* ---------------- CREATE GROUP ---------------- */\r\n  const createGroupMutation = useMutation({\r\n    mutationFn: getGroup,\r\n    onSuccess: (data) => {\r\n      queryClient.invalidateQueries({ queryKey: [\"groups\"] });\r\n      setOpen(false);\r\n      navigate(`/chat/${data.conversation_id}`);\r\n    },\r\n    onError: () => {\r\n      alert(\"Failed to create group\");\r\n    },\r\n  });\r\n\r\n  /* ---------------- SOCKET: USER CREATED ---------------- */\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    const handleUserCreated = (user) => {\r\n      queryClient.setQueryData([\"users\"], (old = []) => {\r\n        if (old.some((u) => u.auth_id === user.auth_id)) return old;\r\n        return [...old, user];\r\n      });\r\n    };\r\n\r\n    socket.on(\"user_created\", handleUserCreated);\r\n\r\n    return () => {\r\n      socket.off(\"user_created\", handleUserCreated);\r\n    };\r\n  }, [socket, queryClient]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <aside className=\"w-64 h-full flex items-center justify-center\">\r\n        <div className=\"flex flex-col items-center gap-3\">\r\n          <div className=\"w-8 h-8 border-3 border-teal-500 border-t-transparent rounded-full animate-spin\"></div>\r\n          <span className=\"text-sm text-gray-400\">Loading conversations...</span>\r\n        </div>\r\n      </aside>\r\n    );\r\n  }\r\n\r\n  const filteredUsers = users.filter((u) => u.auth_id !== currentUser?.auth_id);\r\n\r\n  return (\r\n    <aside\r\n      className=\"w-72 h-full flex flex-col shadow-lg\"\r\n      style={{\r\n        backgroundColor: \"var(--bg-card)\",\r\n        borderRight: \"1px solid var(--border-main)\",\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <div\r\n        className=\"px-5 py-[10px] border-b\"\r\n        style={{\r\n          borderColor: \"var(--border-main)\",\r\n        }}\r\n      >\r\n        <h2\r\n          className=\"text-lg font-bold tracking-tight\"\r\n          style={{\r\n            color: \"var(--text-label)\",\r\n          }}\r\n        >\r\n          Conversations\r\n        </h2>\r\n        <p className=\"text-xs opacity-60 mt-1\" style={{ color: \"var(--text-main)\" }}>\r\n          {filteredUsers.length + groups.length + (broadcast ? 1 : 0)} total\r\n        </p>\r\n      </div>\r\n\r\n      {/* New Group Button */}\r\n      <div className=\"px-4 pt-4 pb-2\">\r\n        <button\r\n          onClick={() => setOpen(true)}\r\n          className=\"w-full px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200 shadow-sm hover:shadow-md active:scale-[0.98] flex items-center justify-center gap-2\"\r\n          style={{\r\n            backgroundColor: \"var(--accent-primary)\",\r\n            color: \"#020617\",\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            e.currentTarget.style.opacity = \"0.9\";\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.currentTarget.style.opacity = \"1\";\r\n          }}\r\n        >\r\n          <svg\r\n            className=\"w-4 h-4\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M12 4v16m8-8H4\"\r\n            />\r\n          </svg>\r\n          Create New Group\r\n        </button>\r\n      </div>\r\n\r\n      {/* Create Group Modal */}\r\n      <CreateGroupModal\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        users={filteredUsers}\r\n        onCreate={(data) => createGroupMutation.mutate(data)}\r\n      />\r\n\r\n      {/* List */}\r\n      <div className=\"overflow-y-auto flex-1 px-2 pb-2\">\r\n        {/* GROUPS */}\r\n        {groups.length > 0 && (\r\n          <div className=\"mb-3\">\r\n            <div className=\"px-3 py-2 flex items-center gap-2\">\r\n              <svg\r\n                className=\"w-4 h-4 opacity-60\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\r\n                />\r\n              </svg>\r\n              <span\r\n                className=\"text-xs font-semibold uppercase tracking-wider opacity-60\"\r\n                style={{ color: \"var(--text-main)\" }}\r\n              >\r\n                Groups\r\n              </span>\r\n              <span\r\n                className=\"ml-auto text-xs font-medium px-2 py-0.5 rounded-full\"\r\n                style={{\r\n                  backgroundColor: \"rgba(20, 184, 166, 0.2)\",\r\n                  color: \"var(--accent-primary)\",\r\n                }}\r\n              >\r\n                {groups.length}\r\n              </span>\r\n            </div>\r\n\r\n            {groups.map((group) => (\r\n              <div\r\n                key={`group-${group.conversation_id}`}\r\n                className=\"px-3 py-2.5 mb-1 flex items-center gap-3 cursor-pointer transition-all duration-200 rounded-lg\"\r\n                style={{ color: \"var(--text-main)\" }}\r\n                onClick={() => navigate(`/chat/${group.conversation_id}`)}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.backgroundColor =\r\n                    \"rgba(20, 184, 166, 0.12)\";\r\n                  e.currentTarget.style.transform = \"translateX(4px)\";\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.backgroundColor = \"transparent\";\r\n                  e.currentTarget.style.transform = \"translateX(0)\";\r\n                }}\r\n              >\r\n                <div\r\n                  className=\"w-10 h-10 rounded-full flex items-center justify-center font-bold text-base shadow-sm\"\r\n                  style={{\r\n                    backgroundColor: \"var(--accent-primary)\",\r\n                    color: \"#020617\",\r\n                  }}\r\n                >\r\n                  {group.group_name.charAt(0).toUpperCase()}\r\n                </div>\r\n\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <span className=\"text-sm font-medium block truncate\">\r\n                    {group.group_name}\r\n                  </span>\r\n                  <span className=\"text-xs opacity-50\">Group chat</span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* BROADCAST */}\r\n        {broadcast && (\r\n          <div className=\"mb-3\">\r\n            <div className=\"px-3 py-2 flex items-center gap-2\">\r\n              <svg\r\n                className=\"w-4 h-4 opacity-60\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z\"\r\n                />\r\n              </svg>\r\n              <span\r\n                className=\"text-xs font-semibold uppercase tracking-wider opacity-60\"\r\n                style={{ color: \"var(--text-main)\" }}\r\n              >\r\n                Broadcast\r\n              </span>\r\n            </div>\r\n\r\n            <div\r\n              key={`broadcast-${broadcast.conversation_id}`}\r\n              className=\"px-3 py-2.5 mb-1 flex items-center gap-3 cursor-pointer transition-all duration-200 rounded-lg\"\r\n              style={{ color: \"var(--text-main)\" }}\r\n              onClick={() => navigate(`/chat/${broadcast.conversation_id}`)}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.backgroundColor =\r\n                  \"rgba(20, 184, 166, 0.12)\";\r\n                e.currentTarget.style.transform = \"translateX(4px)\";\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.backgroundColor = \"transparent\";\r\n                e.currentTarget.style.transform = \"translateX(0)\";\r\n              }}\r\n            >\r\n              <div\r\n                className=\"w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-sm\"\r\n                style={{\r\n                  backgroundColor: \"var(--accent-primary)\",\r\n                  color: \"#020617\",\r\n                }}\r\n              >\r\n                ðŸ“¢\r\n              </div>\r\n\r\n              <div className=\"flex-1 min-w-0\">\r\n                <span className=\"text-sm font-medium block truncate\">\r\n                  {broadcast.group_name}\r\n                </span>\r\n                <span className=\"text-xs opacity-50\">Public channel</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* DIRECT MESSAGES */}\r\n        <div>\r\n          <div className=\"px-3 py-2 flex items-center gap-2\">\r\n            <svg\r\n              className=\"w-4 h-4 opacity-60\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n              />\r\n            </svg>\r\n            <span\r\n              className=\"text-xs font-semibold uppercase tracking-wider opacity-60\"\r\n              style={{ color: \"var(--text-main)\" }}\r\n            >\r\n              Direct Messages\r\n            </span>\r\n            <span\r\n              className=\"ml-auto text-xs font-medium px-2 py-0.5 rounded-full\"\r\n              style={{\r\n                backgroundColor: \"rgba(139, 92, 246, 0.2)\",\r\n                color: \"var(--accent-secondary)\",\r\n              }}\r\n            >\r\n              {filteredUsers.length}\r\n            </span>\r\n          </div>\r\n\r\n          {filteredUsers.map((user) => (\r\n            <div\r\n              key={`user-${user.auth_id}`}\r\n              className=\"px-3 py-2.5 mb-1 flex items-center gap-3 cursor-pointer transition-all duration-200 rounded-lg\"\r\n              style={{\r\n                color: \"var(--text-main)\",\r\n                opacity: openingUserId === user.auth_id ? 0.5 : 1,\r\n                pointerEvents: openingUserId === user.auth_id ? \"none\" : \"auto\",\r\n              }}\r\n              onClick={() => openChat(user.auth_id)}\r\n              onMouseEnter={(e) => {\r\n                if (openingUserId !== user.auth_id) {\r\n                  e.currentTarget.style.backgroundColor =\r\n                    \"rgba(139, 92, 246, 0.12)\";\r\n                  e.currentTarget.style.transform = \"translateX(4px)\";\r\n                }\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.backgroundColor = \"transparent\";\r\n                e.currentTarget.style.transform = \"translateX(0)\";\r\n              }}\r\n            >\r\n              <div className=\"relative\">\r\n                <div\r\n                  className=\"w-10 h-10 rounded-full flex items-center justify-center font-bold text-base shadow-sm\"\r\n                  style={{\r\n                    backgroundColor: \"var(--accent-secondary)\",\r\n                    color: \"#020617\",\r\n                  }}\r\n                >\r\n                  {user.user_name.charAt(0).toUpperCase()}\r\n                </div>\r\n                {/* Online indicator - you can add logic to show/hide this */}\r\n                <div\r\n                  className=\"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2\"\r\n                  style={{\r\n                    backgroundColor: \"#10b981\",\r\n                    borderColor: \"var(--bg-card)\",\r\n                  }}\r\n                ></div>\r\n              </div>\r\n\r\n              <div className=\"flex-1 min-w-0\">\r\n                <span className=\"text-sm font-medium block truncate\">\r\n                  {user.user_name}\r\n                </span>\r\n                <span className=\"text-xs opacity-50\">\r\n                  {openingUserId === user.auth_id ? \"Opening...\" : \"Available\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default SideBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}